<!-- nav.html -->
<nav class="navbar">
  <div class="logo">PICC CR1</div>

  <button class="menu-toggle" onclick="toggleMenu()" aria-label="Toggle navigation">
    â˜°
  </button>

  <ul id="navLinks">
    <li><a href="index.html">Home</a></li>
    <li><a href="post.html">Post Report</a></li>
    <li class="has-submenu">
      <a href="reports.html">Reports</a>
    </li>
    <li><a href="dashboard.html">Dashboard</a></li>
  </ul>
</nav>

<style>
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background-color: #333;
    color: #fff;
  }
  .navbar .logo {
    font-weight: bold;
    font-size: 1.2em;
  }
  .navbar ul {
    list-style: none;
    display: flex;
    gap: 15px;
    padding: 0;
    margin: 0;
  }
  .navbar ul li a {
    color: #fff;
    text-decoration: none;
  }
  .navbar ul li a.active {
    text-decoration: underline;
  }
  .has-submenu { position: relative; }
  .has-submenu .submenu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: #444;
    padding: 5px 0;
    list-style: none;
    min-width: 120px;
    border-radius: 4px;
  }
  .has-submenu:hover .submenu { display: block; }
  .submenu li a { display: block; padding: 5px 15px; color: #fff; }
  .submenu li a:hover { background: #555; }
  .menu-toggle {
    display: none;
    background: none;
    border: none;
    color: #fff;
    font-size: 1.5em;
    cursor: pointer;
  }

  @media(max-width: 768px){
    .menu-toggle { display: block; }
    #navLinks { display: none; flex-direction: column; width: 100%; margin-top: 10px; }
    #navLinks.show { display: flex; }
    .navbar ul li { margin-bottom: 5px; }
    .has-submenu .submenu { position: static; background: #555; border-radius: 0; }
  }
</style>

<script>
function toggleMenu(){
  document.getElementById('navLinks').classList.toggle('show');
}

// Automatically set active link based on current URL
document.addEventListener("DOMContentLoaded", () => {
  const links = document.querySelectorAll("#navLinks a");
  const current = window.location.pathname.split("/").pop(); // get current page
  links.forEach(link => {
    const href = link.getAttribute("href");
    if (href === current) {
      link.classList.add("active");
    } else {
      link.classList.remove("active");
    }
  });
});
</script>
